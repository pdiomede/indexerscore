
<html>
    <head>
        <meta charset='UTF-8'>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <title>Indexer Score Documentation - The Graph Network</title>
        <meta name="description" content="Learn how the Indexer Score is calculated for The Graph Network with detailed documentation.">
        <meta name="keywords" content="The Graph, Indexer Score, blockchain indexing, GRT, subgraph allocations, query fees, indexer performance">
        <meta name="robots" content="index, follow">

        <link rel="canonical" href="https://indexerscore.com/docs.html">

        <meta property="og:title" content="Indexer Score Documentation - The Graph Network">
        <meta property="og:description" content="Understand the Indexer Score calculation for The Graph Network with in-depth documentation.">
        <meta property="og:image" content="https://graphtools.pro/IndexerScore.jpg">
        <meta property="og:url" content="https://indexerscore.com/docs.html">
        <meta property="og:type" content="article">

        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="Indexer Score Documentation - The Graph Network">
        <meta name="twitter:description" content="Understand the Indexer Score calculation for The Graph Network with in-depth documentation.">
        <meta name="twitter:image" content="https://graphtools.pro/IndexerScore.jpg">
        <meta name="twitter:site" content="@graphtronauts_c">

        <link rel="icon" type="image/png" href="https://graphtools.pro/favicon.ico">

        <style>
            body {
                font-family: Arial, sans-serif;
                padding: 20px;
                background-color: #ffffff;
                color: #000;
            }
        </style>

        <!-- Plausible Analytics -->
        <script defer data-domain="indexerscore.com" src="https://plausible.io/js/script.file-downloads.hash.outbound-links.pageview-props.tagged-events.js"></script>
        <script>
            window.plausible = window.plausible || function() {
                (window.plausible.q = window.plausible.q || []).push(arguments)
            }
        </script>

    </head>

    <body>
        <h1>üìö Documentation</h1>

        <p>
        üí¨ <a target="_blank" href="https://forum.thegraph.com/t/introducing-the-indexer-score/6501">Join the Forum Discussion</a>
        | üìÑ <a  target="_blank" href="./indexer_score_documentation_v2.0.0.pdf" download>Download PDF Documentation</a>
        | üìä <a href="./index.html">View the Dashboard</a>
        </p>
       
        <div style="margin-top: 20px; padding: 10px; background-color: #e1f5fe; border-left: 5px solid #2196f3; width: 60%; color: black !important; font-family: 'Courier New', Courier, monospace;">
            <h3>üìè Thresholds Used</h3>
            <ul>
                <li><strong>Total Indexers:</strong> 165</li>
                <li><strong>Active Indexers:</strong> 88</li>
                <li><strong>Indexers with allocations:</strong> 82</li>
                <br />
                <li><strong>Underserving Subgraphs Threshold:</strong> 10 subgraphs</li>
                <li><strong>Indexers serving <span style="color: #c83349;">less than</span> 10 allocations:</strong> 23</li>
                <br />
                <li><strong>Small Active Indexers:</strong> 16 <span style="font-size: 90%;">(less than 1M GRT allocated)</span></li>
                <li><strong>Medium Active Indexers:</strong> 39 <span style="font-size: 90%;">(between 1M and 20M GRT allocated)</span></li>
                <li><strong>Large Active Indexers:</strong> 16 <span style="font-size: 90%;">(more than 20M and 50M GRT allocated)</span></li>
                <li><strong>Mega Active Indexers:</strong> 11 <span style="font-size: 90%;">(more than 50M GRT allocated)</span></li>
            </ul>
        </div>

        <div style="margin-top: 30px; padding: 15px; background-color: #fff3e0; border-left: 5px solid #ff9800; font-family: 'Courier New', Courier, monospace;">
            <h2>üìà How the Indexer Score is Calculated</h2>
            <p>
                The <strong>Indexer Score</strong> is based on a single critical performance metric:
            </p>
            <ul>
                <li><strong>QFR (Query Fee Ratio):</strong> Measures how efficiently an indexer generates query fees relative to its allocated GRT. <strong>Weight: 100%</strong></li>
            </ul>
            <p>
                This metric directly evaluates an indexer's ability to generate revenue, making it the most important indicator of real-world performance and value to delegators.
            </p>
        </div>

        <p>
            In the following sections, we break down the methodology used to compute <strong>QFR</strong>, 
            including its normalization process. The final score is adjusted to a uniform scale where <strong>1 represents the best performance</strong> 
            (highest query fees relative to allocated stake) and <strong>10 the worst</strong> (little to no query fees generated).
        </p>

        <div style="margin-top: 30px; padding: 15px; background-color: #e9f5ff; border-left: 5px solid #007bff; font-family: 'Courier New', Courier, monospace;">
            <h2 style="margin-top: 0;">üìê How Allocation Efficiency Ratio (AER) is calculated:</h2>
            <div style="margin: 20px 0; font-size: 16px; line-height: 1.6;">
                <div style="display: inline-block; text-align: center;">
                    <div><strong style="font-family: 'Courier New', Courier, monospace;">Total GRT Allocated</strong></div>
                    <div style="border-top: 2px solid #333; margin: 4px 0;"></div>
                    <div><strong style="font-family: 'Courier New', Courier, monospace;">(Number of Allocations * Average GRT per Allocation)</strong></div>
                </div>
            </div>
            <p>
                The Allocation Efficiency Ratio (AER) measures how effectively an indexer distributes their staked GRT across subgraphs.
                <br />
                ‚ÄºÔ∏è A <b>lower AER</b> reflects more efficient allocation, while a higher AER suggests over-concentration.
            </p>
            <p>
                Average allocation targets are based on indexer size:
            </p>
            <ul style="margin-left: 20px;">
                <li><strong>Small Indexers:</strong> 5,000 GRT per subgraph</li>
                <li><strong>Medium Indexers:</strong> 10,000 GRT per subgraph</li>
                <li><strong>Large Indexers:</strong> 20,000 GRT per subgraph</li>
                <li><strong>Mega Indexers:</strong> 40,000 GRT per subgraph</li>
            </ul>
        </div>

        <div style="margin-top: 30px; padding: 15px; background-color: #e9f5ff; border-left: 5px solid #007bff; font-family: 'Courier New', Courier, monospace;">
            <h2 style="margin-top: 0;">üìè How AER is Normalized:</h2>
            <div style="margin: 20px 0; font-size: 16px; line-height: 1.6;">
                <div style="display: inline-block; text-align: center;">
                    <div><strong style="font-family: 'Courier New', Courier, monospace;">Normalized AER = 1 + 9 √ó (min(AER, 500) / 500)</strong></div>
                </div>
            </div>
            <p>
                AER is normalized to a scale from <strong>1 (best)</strong> to <strong>10 (worst)</strong> to account for varying efficiency levels across indexers:
            </p>
            <ul style="margin-left: 20px;">
                <li><strong>Capping:</strong> AER values are capped at 500 to limit the impact of extreme outliers (e.g., highly concentrated allocations).</li>
                <li><strong>Scaling:</strong> The capped AER is scaled linearly from 0 to 500 onto a 1-to-10 range using the formula above.</li>
                <li><strong>Interpretation:</strong>
                    <ul>
                        <li>AER = 0 ‚Üí Normalized = 1 (most efficient, best)</li>
                        <li>AER = 500 or higher ‚Üí Normalized = 10 (least efficient, worst)</li>
                        <li>Example: AER = 23.788 ‚Üí Normalized = 1 + 9 √ó (23.788 / 500) ‚âà 1.43</li>
                    </ul>
                </li>
            </ul>
            <p>
                This ensures AER values are fairly compared, with lower ratios (better performance) resulting in lower scores.
            </p>
        </div>

        <div style="margin-top: 30px; padding: 15px; background-color: #fff3e0; border-left: 5px solid #ff9800; font-family: 'Courier New', Courier, monospace;">
            <h2 style="margin-top: 0;">üîç How Query Fee Ratio (QFR) is calculated:</h2>
            <div style="margin: 20px 0; font-size: 16px; line-height: 1.6;">
                <div style="display: inline-block; text-align: center;">
                    <div><strong style="font-family: 'Courier New', Courier, monospace;">Query Fees Generated</strong></div>
                    <div style="border-top: 2px solid #333; margin: 4px 0;"></div>
                    <div><strong style="font-family: 'Courier New', Courier, monospace;">Total GRT Allocated</strong></div>
                </div>
            </div>
            <p>
                The Query Fee Ratio (QFR) measures how efficiently an indexer generates query fees per unit of allocated GRT.
                <br />
                ‚ÄºÔ∏è A <b>higher QFR</b> indicates better performance, as it means more query fees are earned per GRT allocated.
            </p>
        </div>

        <div style="margin-top: 30px; padding: 15px; background-color: #fff3e0; border-left: 5px solid #ff9800; font-family: 'Courier New', Courier, monospace;">
            <h2 style="margin-top: 0;">üìè How QFR is Normalized:</h2>
            <div style="margin: 20px 0; font-size: 16px; line-height: 1.6;">
                <div style="display: inline-block; text-align: center;">
                    <div><strong style="font-family: 'Courier New', Courier, monospace;">Normalized QFR = 1 + 9 √ó (min(QFR, 0.3) / 0.3)</strong></div>
                </div>
            </div>
            <p>
                QFR is normalized to a scale from <strong>1 (worst)</strong> to <strong>10 (best)</strong> to reflect its efficiency metric, where higher raw QFR values are better:
            </p>
            <ul style="margin-left: 20px;">
                <li><strong>Capping:</strong> QFR is capped at 0.3 (30%), representing excellent query fee performance based on the actual distribution observed in The Graph Network. This cap was chosen to properly differentiate between indexers, as most perform in the 0-10% range, with top performers reaching 10-30%.</li>
                <li><strong>Scaling:</strong> The capped QFR is scaled linearly from 0 to 0.3 onto a 1-to-10 range using the formula above. This ensures that higher QFR values (better performance) result in higher normalized scores.</li>
                <li><strong>Interpretation:</strong>
                    <ul>
                        <li>QFR = 0.3 or higher ‚Üí Normalized = 10 (exceptional performance)</li>
                        <li>QFR = 0 ‚Üí Normalized = 1 (no query fees generated)</li>
                        <li>Example: QFR = 0.2545 ‚Üí Normalized = 1 + 9 √ó (0.2545 / 0.3) ‚âà 8.64</li>
                        <li>Example: QFR = 0.014 ‚Üí Normalized = 1 + 9 √ó (0.014 / 0.3) ‚âà 1.42</li>
                    </ul>
                </li>
            </ul>
            <p>
                This normalization preserves QFR's meaning: indexers generating more query fees relative to their allocations receive higher (better) scores, 
                while those with little to no fees score lower.
            </p>
        </div>

        <div style="margin-top: 30px; padding: 15px; background-color: #ede7f6; border-left: 5px solid #673ab7; font-family: 'Courier New', Courier, monospace;">
            <h2 style="margin-top: 0;">üìä How the Final Indexer Score is calculated:</h2>
            <p style="font-size: 16px; line-height: 1.6;">
                The final Indexer Score is based solely on <strong>QFR (Query Fee Ratio)</strong>, scaled from <strong>1 (best)</strong> to <strong>10 (worst)</strong>.
            </p>
            <ul style="font-size: 16px; line-height: 1.6; padding-left: 20px;">
                <li><strong>QFR Normalized</strong>: Ranges from 1 (worst, low QFR) to 10 (best, high QFR).</li>
                <li><strong>Score Adjustment</strong>: To align with the scoring convention where 1 = best and 10 = worst, the normalized QFR is inverted using: <strong>Final Score = 11 - Normalized QFR</strong></li>
            </ul>
            <div style="margin: 20px 0; font-size: 16px; line-height: 1.6; text-align: center;">
                <div><strong>Final Score = 11 - Normalized QFR</strong></div>
            </div>
            <p style="font-size: 16px; line-height: 1.6;">
                <strong>How it works:</strong>
            </p>
            <ul style="margin-left: 20px;">
                <li><strong>High Query Fees:</strong> An indexer generating high query fees relative to allocated stake gets a high normalized QFR (e.g., 10), which becomes a low final score (11 - 10 = 1) = Excellent performance.</li>
                <li><strong>Low Query Fees:</strong> An indexer generating few or no query fees gets a low normalized QFR (e.g., 1), which becomes a high final score (11 - 1 = 10) = Poor performance.</li>
            </ul>
            <p style="font-size: 16px; line-height: 1.6;">
                <strong>Examples:</strong>
            </p>
            <ul style="margin-left: 20px;">
                <li>Best Case: QFR = 0.3+ (30%+) ‚Üí Normalized = 10 ‚Üí Final Score = 11 - 10 = <strong>1.0</strong> üü¢</li>
                <li>Excellent: QFR = 0.2545 (25.45%) ‚Üí Normalized ‚âà 8.64 ‚Üí Final Score = 11 - 8.64 = <strong>2.36</strong> üü¢</li>
                <li>Fair: QFR = 0.05 (5%) ‚Üí Normalized ‚âà 2.5 ‚Üí Final Score = 11 - 2.5 = <strong>8.5</strong> üü°</li>
                <li>Poor: QFR = 0.014 (1.4%) ‚Üí Normalized ‚âà 1.42 ‚Üí Final Score = 11 - 1.42 = <strong>9.58</strong> üî¥</li>
                <li>Worst Case: QFR = 0 (0%) ‚Üí Normalized = 1 ‚Üí Final Score = 11 - 1 = <strong>10.0</strong> üî¥</li>
            </ul>
            <p style="font-size: 16px; line-height: 1.6;">
                This method ensures that indexers who generate the most query fees relative to their allocated stake receive the best scores,
                providing a clear and direct measure of indexer performance that matters most to delegators.
            </p>
            <p style="font-size: 16px; line-height: 1.6;">
                <strong>‚ö†Ô∏è üî¥ Underserving Penalty:</strong> Indexers serving fewer than 10 subgraphs are considered underserving and receive a significant penalty to their final score. 
                The penalty is calculated as <code>Penalty = 3.0 √ó (10 - number_of_subgraphs) / 10</code>, and the new score is capped at 10. 
                For example, an Indexer with 1 subgraph receives a penalty of <strong>+2.7</strong>, while an Indexer with 5 subgraphs receives a penalty of <strong>+1.5</strong>. 
                This severe penalty ensures that Indexers are strongly incentivized to support a diverse set of subgraphs, contributing to the health and decentralization of The Graph Network. 
                Underserving indexers will typically fall into the Poor or Fair categories, regardless of their query fee performance.
            </p>
        </div>

        <div style="margin-top: 30px; padding: 15px; background-color: #f0f4f8; border-left: 5px solid #607d8b; font-family: 'Courier New', Courier, monospace;">
            <h2 style="margin-top: 0;">üèÖ Performance Flags</h2>
            <p style="font-size: 16px; line-height: 1.6;">
                Each indexer is assigned a <strong>Performance Flag</strong> based on its final Indexer Score AND delegator rewards percentage, 
                providing a quick visual indicator of both query fee generation efficiency and delegator-friendliness:
            </p>
            <ul style="margin-left: 20px;">
                <li><strong>Excellent üü¢ (Score: 1.0 - 9.92 + Delegator Rewards ‚â• 30%):</strong> Average to exceptional query fee generation <strong>AND</strong> generous delegator rewards. These indexers demonstrate efficiency in converting their allocated stake into query fee revenue while sharing at least 30% of total rewards with delegators. They generate meaningful query fees (typically 0.08-30% of allocated stake) and provide strong value for delegators through both performance and fair reward sharing. Most importantly, they share rewards generously with their delegators.</li>
                <li><strong>Fair üü° (Score: 9.93 - 9.97 OR Delegator Rewards 10-29%):</strong> Below-average query fee generation OR insufficient delegator rewards. These indexers either generate small fees relative to their allocation (typically 0.005-0.08% of allocated stake), or they have good performance but share between 10-29% of rewards with delegators. There is significant room for optimization through better subgraph selection or improved reward sharing.</li>
                <li><strong>Poor üî¥ (Score: 9.98 - 10.0 OR Delegator Rewards < 10%):</strong> Minimal query fee generation OR unfair reward distribution. These indexers either generate negligible fees relative to their allocation (<0.005% of allocated stake) OR share less than 10% of rewards with delegators. <strong style="color: #c83349;">CRITICAL: Any indexer sharing less than 10% of rewards with delegators is automatically classified as Poor</strong>, regardless of query fee performance. These indexers should prioritize both optimization and fair reward sharing.</li>
            </ul>
            <p style="font-size: 16px; line-height: 1.6;">
                <strong>üî¥ Critical Rules:</strong>
            </p>
            <ul style="margin-left: 20px;">
                <li><strong>Automatic Poor Classification:</strong> Delegator Rewards < 10% ‚Üí Poor tier (regardless of QFR score)</li>
                <li><strong>Excellent Tier Requirement:</strong> Delegator Rewards ‚â• 30% + Reasonable QFR (score ‚â§ 9.92) [Relaxed threshold]</li>
                <li><strong>Fair Tier Range:</strong> Delegator Rewards 10-29% OR Score 9.93-9.97</li>
            </ul>
            <p style="font-size: 16px; line-height: 1.6;">
                These thresholds ensure that only indexers who provide meaningful value to delegators through BOTH strong performance AND fair reward sharing can achieve top ratings. 
                Indexers who keep more than 90% of rewards for themselves are considered unfair to delegators and will always be rated as Poor, 
                regardless of their technical performance.
            </p>
        </div>
    </body>
    </html>
    